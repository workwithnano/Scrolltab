//Scrolltab by Chris Saylor.  Protected under the MIT license.
(function(a){a.fn.extend({scrolltab:function(d){function h(b,c){if(b.parents().length==0)setTimeout(function(){c.remove()},1E3);else b.css("display")=="none"?c.fadeOut():setTimeout(function(){c.animate({top:g(b,c)})},1E3);if(a("body").height()>a(window).height())a("body").height()>a(window).height()&&b.css("display")!="none"&&c.fadeIn();else c.fadeOut("fast")}function g(b,c){return b.offset().top/a("body").height()*a(window).height()+c.height()/2}var f=a.extend({title:"",classname:"scrolltab-item", hoverin:function(){},hoverout:function(){},click:function(){}},d),i={body:0};return this.each(function(){var b=a(this);if(b.data("scrolltab_enabled")){e=a("#"+b.data("scrolltab_id"));d.hoverin&&e.unbind("mouseenter.userdefined").bind("mouseenter.userdefined",d.hoverin);d.hoverout&&e.unbind("mouseleave.userdefined").bind("mouseleave.userdefined",d.hoverin);d.click&&e.unbind("click.userdefined").bind("click.userdefined",d.click);d.classname&&e.attr("class",d.classname);d.title&&e.html(d.title)}else{b.data("scrolltab_enabled", true);i.body=a("body").height();var c="scrolltab_"+Math.floor(Math.random()*10001),e=a("<div/>").attr("id",c).attr("class",f.classname).html(f.title).css("position","fixed").css("right",0).bind("mouseenter.userdefined",f.hoverin).bind("mouseleave.userdefined",f.hoverout).bind("click.userdefined",f.click);b.data("scrolltab_id",c);a("body").append(e);c=g(b,e);e.css("top",c).hide().bind("click.scrolltab",function(){a("html,body").animate({scrollTop:b.offset().top+"px"},1E3);return false}).css("cursor", "pointer");setTimeout(function(){e.fadeIn("slow")},1E3);setInterval(function(){h(b,e)},1E3)}})}})})(jQuery);
